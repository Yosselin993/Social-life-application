{% load bootstrap5 %} <!--;pads django's bootstrap template tags-->
<!DOCTYPE html>
<html lang = "en">
<head>
    <meta charset = "UTF-8">
     <title>Browse All</title>
    <link rel="icon" type="image/png" href="/media/favicon.png">

     {% bootstrap_css %} <!--inserts bootstrap5 css-->

<style>
    body {
        background: linear-gradient(to right, #fff3e0, #ff9800); /* orange and white */
        min-height: 100vh;
        display: flex;
        justify-content: center;
        font-family: 'Arial', sans-serif;
        margin: 0; 
        padding: 0;
        }

    .card{
        width: 90%; 
        max-width: 1290px;
        padding: 40px 80px;  /* top/bottom = 20px, left/right = 80px */
        background-color: white;
        border-radius: 12px;
        /*box-shadow: 0 4px 10px #cd696926;*/
        /*border: 1px solid #88808026; */
        margin: 2px auto;
        box-shadow: 0 2px 8px hsla(226, 53%, 65%, 0.383);
    }

    .card-club-version{
        /*width: 4in; 
        height: 2.2in; */
        padding: 10px;
        margin-top: 5px;
        border-radius: 8px;
        background-color: white;
        box-shadow: 0 2px 8px hsla(226, 53%, 65%, 0.383);
        height: 100%;
    }



    .card-placement{
        text-align: center;
        color: #0d47a1;
        font-size: 25px;
    }

    .row.club-cards > [class^="col-"] {
    display: flex;
    }


    .row.club-cards {
        display: flex;
        flex-wrap: wrap;
        /* Adds margin below the row */
        margin-bottom: 20px;
    }

    .row.club-cards a {
        height: 100%;
        width: 100%;
        display: flex;
        flex-direction: column;
    }




    /*Used for "UTRGVconnect" header and logout button*/
    .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
       margin-top: 1px;
    }


</style>
</head>
<body>
    <div class="container mt-2">
             <!--only the seletor 'header' is used here but a class from bootstrap that controls to margins from the top-->
        <div class="mb-4 header"> <!-- header content starts -->
            <h1 style="color: #0d47a1; font-size: 30px;">UTRGVconnect</h1>
            <!--<p>Hi, {{ user.username }}! :)</p> -->
            <form method="post" action="{% url 'logout' %}" class="me-2" id="logout-form">
            {% csrf_token %}
            <a href="#" onclick="document.getElementById('logout-form').submit(); return false;" class="logout-link">
            Logout</a>
            </form>
        </div>

        <div class="card card-placement">
            <div class="header">
                <form action = "{% url 'mainPage' %}"> <!--changed this to now go to the actual calendar-->
                    <button type="submit" class="btn btn-primary" >Home</button>
                </form>
            </div>
            <p>Browse All</p>
        </div>

            <div class="container mt-4">
            <div class="row club-cards">
                {% for club in clubs %}
                <div class="col-12 col-sm-6 col-md-4 mb-4">
                  <div class="card-club-version">
                        <div class="card-body">
                            <h5 class="card-title"><a href="{% url 'club_profile' club.id %}" style="text-decoration:none; color:inherit;">{{ club.name }}</a></h5>
                            <p class="card-text">{{ club.description }}</p>
                            <p><strong>Meeting Time:</strong> {{ club.meeting_time }}</p>
                            <p><strong>Location:</strong> {{ club.location }}</p>
                            <p><strong>Tags:</strong> {{ club.descriptions }}</p>

                            <div style="margin-top:12px;">
                                {% if user.is_authenticated %}
                                    <form method="post" action="{% url 'toggle_favorite' club.id %}">
                                        {% csrf_token %}
                                        {% if user in club.favorites.all %}
                                            <button type="submit" class="btn btn-sm btn-outline-danger">Unfavorite</button>
                                        {% else %}
                                            <button type="submit" class="btn btn-sm btn-outline-success">Favorite</button>
                                        {% endif %}
                                    </form>
                                {% else %}
                                    <a href="{% url 'login' %}" class="btn btn-sm btn-outline-secondary">Login to favorite</a>
                                {% endif %}
                            </div>
                        </div>
                    </div>
                  </div>
                {% endfor %}
            </div>
            </div>
      
    </div>

</body>
</html>